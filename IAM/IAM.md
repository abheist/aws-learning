---
aliases:
- IAM
- Users & Group
- Identity and Access Management
---

- Global service, does not need region
- Root account created by default, shouldn't be used or shared
- [Users](Users.md)
	- mapped to physical user, has password for AWS console
	- are people within your organization, and can be grouped
	- Add user
		- basic details
			- User name
			- Provide access to  management console
			- Autogenerated password
			- new password at sign in checkbox
		- permissions
			- Add user to group
				- Create a group
					- Add permission policies to the group
						- Select `AdministratorAccess` and create group
				- select that group
			- Review the settings we selected
			- Add a [Tag](Tag) if needed
			- Click on `create user` button
			- User created.
			- Email `sign-in` instruction or download `.csv` 
	- User: click on any of the user, you can see
		- User ARN, something like `arn:aws:iam::1212123123:user/abheist`
		- audit detail
		- Permissions
		- Group
		- Tags
		- Security credentials
		- Access Advisor
	- How to login to AWS with the newly created user:
		- Go to IAM dashboard
		- Check the right side of the dashboard, you'll see AWS account details.
			- Account ID, something like: `23423894723894`
			- Account Alias:
				- Initially it'll be same as account id
				- You can change it to your preference, something like `abheist`
				- This is preferred username/alias for the aws account, which users can use instead of account-id when login to aws, because this is easy to remember. This can be edited on IAM dashboard, right hand side.
			- Sign-in URL for IAM users in this account
	- 
- [Group](Group)
	- Groups only contains users, not other groups
	- Users don't have to belong to group, and user can belong to multiple group.  ![Screenshot 2023-06-04 at 10.23.01 AM](../images%201/Screenshot%202023-06-04%20at%2010.23.01%20AM.png)
	- User Groups
		- Can see the groups created
		- If you open the group, you can see
			- Users
			- Permissions (policies)
			- Access Advisor
- [Policies](Policies.md) / Permissions
	- Users or Group can be assigned JSON documents called [Policies](Policies.md).
	- These policies define the permissions of the users
	- Go for least privilege principle: don't give more permissions than a user needs
- [Password Policy](Password%20Policy.md)
	- Strong passwords - higher security for you account
	- in AWS, we can setup password policy
		- Set a minimum length
		- Require specific char types
			- include uppercase
			- include lowercase
			- include numbers
			- include non-alphanumeric characters
	-  Allow all IAM users to change their own passwords
	- Require users to change their password after some time (password expiration).
	- prevent password re-use
	- Multi-factor authentication - MFA
		- Users have access to you account and possibly change configuration or delete resources in your aws account
		- You want to protect your toot accounts and IAM users
		- MFA  = password you know + security device you own
		- MFA devices options in AWS
			- Virtual MFA device
				- Google authenticator
				- 1Password
				- Authy
			- Universal 2nd Factor (U2F) Security key
				- YubiKey
			- Hardware Key Fob MFA Device
			- Hardware Key Fob MFA Device for AWS GovCloud (US)
	- How to create password policy
		- IAM → Account Settings → Password Policy
		- Edit password policy and select below to define password policy
			- IAM Default
				- 8 Characters
				- Password Strength, include minimum of three below options
					- Uppercase
					- Lowercase
					- Numbers
					- non-alphanumeric characters
				- Other requirements
					- Never expire password
					- Must not be identical to your aws account name or email address
			- Custom
				- Password minimum length
				- can check from following checkboxes
				- [ ] Require at least one uppercase letter
				- [ ] Require at least one lowercase letter
				- [ ] Require at least one number
				- [ ] Require at least one non-alphanumeric character
				- Other requirements
				- [ ] Turn on password expiration, it'll ask for number of days after which the password will expire
				- [ ] Password expiration requires administrator reset
				- [ ] Allow users to change their own password
				- [ ] Prevent password reuse
- How can user access AWS
	- user have 3 options
		- AWS Management console (protected by password + MFA)
		- AWS CLI: protected by access keys
		- AWS SDK - for code: protected by access keys
	- Access keys can be generated through AWS Management console
	- users manage their own access keys
	- Access keys are secret just like passwords. Don't share them.
- [AWS CLI](AWS%20CLI.md)
	- manage your AWS services using the command line
- [AWS SDK](AWS%20SDK.md)
	- Manage your AWS services using a programming language
- [Roles](Roles.md)
	- for EC2 instances or AWS services
- [Access Keys](Access%20Keys)
- [Audit](IAM%20Security%20Tools)
	- [IAM Credential Report](IAM%20Credential%20Report) (Account-level)
		- a report that lists all your account's user and the status of their various credentials
		- IAM → Access Reports → Credential Report → Download Report
	- [IAM access advisor](IAM%20access%20advisor)
		- Access advisor shows the service permissions granted to a user and when those services were last accessed.
		- You can use this information to revise your policies.
		- Users → User → Access Advisor Tab

## IAM Guidelines & Best Practices
- Don't use the root account except for AWS account setup
- One physical user = One AWS user
- Assign users to groups and assign permissions to groups
- Create a strong password policy
- Use and enforce the use of Multi Factor Authentication (MFA)
- Create and use Roles for giving permissions to AWS services
- Use Access Key for Programmatic Access (CLI/SDK)
- Audit permissions of your account using IAM credential Report & IAM Access Advisor
- Never share IAM users & Access Keys.

## Shared Responsibility Model for IAM

| AWS | You |
|---|---|
| Infrastructure (Global network security) | User, groups, roles, policies management and monitoring |
| Configuration and vulnerability analysis | Enable MFA on all accounts |
| Compliance validation | Rotate all your keys often |
|  | Use IAM tools to apply appropriate permissions |
|  | Analyze access patterns & review permissions |
